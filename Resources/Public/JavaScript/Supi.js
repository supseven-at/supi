!function(){"use strict";var e,t,o={22:function(e,t){var o=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,l,n=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(e){l={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(l)throw l.error}}return a},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};t.__esModule=!0,t.cookie=void 0,t.cookie=new(function(){function e(){var e=this;this.values=new Map,this.lifetime=7,this.domain="",document.cookie.split("; ").forEach((function(t){var l,n,a=o(t.split("="),2),r=a[0],s=a[1];if("supi"==r){var u=JSON.parse(decodeURIComponent(s));try{for(var c=i(Object.keys(u)),d=c.next();!d.done;d=c.next()){var f=d.value;e.values.set(f,u[f])}}catch(e){l={error:e}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(l)throw l.error}}}}))}return e.prototype.get=function(e){return this.values.has(e)?this.values.get(e):null},e.prototype.has=function(e){return this.values.has(e)},e.prototype.set=function(e,t){this.values.set(e,t),this.persist()},e.prototype.setLifetime=function(e){e>0&&e<367&&(this.lifetime=e,this.persist())},e.prototype.remove=function(e){this.values.delete(e),this.persist()},e.prototype.persist=function(){var e=this;this.persistTimeout&&clearTimeout(this.persistTimeout),this.persistTimeout=setTimeout((function(){e.persistTimeout=null;var t=new Date,o={};e.values.forEach((function(e,t){o[t]=e}));var i=24*e.lifetime*60*60*1e3;t.setTime(t.getTime()+i),e.setCookie("supi",encodeURIComponent(JSON.stringify(o)),t)}),20)},e.prototype.getCookieNames=function(){return document.cookie.toString().split("; ").map((function(e){return e.split("=").shift()})).filter((function(e){return"supi"!==e}))},e.prototype.purgeCookie=function(e){var t=new Date;t.setTime(t.getTime()-864e5),this.setCookie(e,"x",t)},e.prototype.setCookie=function(e,t,o){var i="".concat(e,"=").concat(t,"; expires=").concat(o.toUTCString(),"; path=/");this.domain&&(i+="; Domain=".concat(this.domain)),window.MSInputMethodContext||document.documentMode||(i+="; SameSite=Lax","https:"==location.protocol&&(i+="; Secure")),document.cookie=i},e.prototype.useDomain=function(e){this.domain=e},e}())},642:function(e,t){var o,i,l,n;t.__esModule=!0,t.findAll=t.findOne=void 0,t.findOne=function(e,t){return void 0===t&&(t=null),(t||document).querySelector(e)},t.findAll=function(e,t){return void 0===t&&(t=null),Array.from((t||document).querySelectorAll(e))},Array.from||(Array.from=(o=Object.prototype.toString,i=function(e){return"function"==typeof e||"[object Function]"===o.call(e)},l=Math.pow(2,53)-1,n=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),l)},function(e){var t=this,o=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var l,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!i(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(l=arguments[2])}for(var r,s=n(o.length),u=i(t)?Object(new t(s)):new Array(s),c=0;c<s;)r=o[c],u[c]=a?void 0===l?a(r,c):a.call(l,r,c):r,c+=1;return u.length=s,u}))},405:function(e,t){var o=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,l,n=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(e){l={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(l)throw l.error}}return a},i=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,l=0,n=t.length;l<n;l++)!i&&l in t||(i||(i=Array.prototype.slice.call(t,0,l)),i[l]=t[l]);return e.concat(i||Array.prototype.slice.call(t))};t.__esModule=!0,t.NullLogger=t.ConsoleLogger=void 0;var l=function(){function e(){}return e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,i([],o(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,i([],o(e),!1))},e}();t.ConsoleLogger=l;var n=function(){function e(){}return e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e}();t.NullLogger=n},429:function(e,t,o){var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,l,n=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(e){l={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(l)throw l.error}}return a};t.__esModule=!0,t.Supi=void 0;var n=o(905),a=o(642),r=o(22),s=o(405),u=function(){function e(){var e,t,o,i,l,u,c,d,f,p,h,v,g,m,b,y=this;if(this.logger=new s.NullLogger,this.root=null,this.dismiss=null,this.choose=null,this.banner=null,this.modal=null,this.focusTrapEventHandler=function(){},this.cookieNameStatus="status",this.cookieNameAllowed="allowed",this.cookieNameYoutube="yt",this.cookieNameGoogleMaps="gmaps",this.overlay=!1,this.body=null,this.html=null,this.config={},this.allowed=[],this.save=null,this.ttlAll=30,this.ttlReduced=7,this.allowAll=!1,this.allowYoutube=!1,this.allowMaps=!1,this.services=[],this.root=(0,a.findOne)("#supi"),this.root){this.dismiss=(0,a.findOne)("[data-toggle=dismiss]",this.root),this.choose=(0,a.findOne)("#supi__choose"),this.banner=null!==(e=(0,a.findOne)("#supi__overlay"))&&void 0!==e?e:(0,a.findOne)("#supi__banner"),this.modal=(0,a.findOne)("#supi__banner"),this.focusTrapEventHandler=this.focusTrapNavigator.bind(this),this.overlay=!!(0,a.findOne)("#supi__overlay"),this.html=(0,a.findOne)("html"),this.body=document.body,this.save=(0,a.findOne)("[data-toggle=save]",this.root);var k=this.root.getAttribute("data-supi-config");this.config=k?JSON.parse(k):{},this.body.classList.contains(null!==(o=null===(t=this.config)||void 0===t?void 0:t.debugClass)&&void 0!==o?o:"develop")?this.logger=new s.ConsoleLogger:this.logger=new s.NullLogger,this.logger.info("Loaded config %o",this.config),this.ttlReduced=null!==(u=null===(l=null===(i=this.config)||void 0===i?void 0:i.cookieTTL)||void 0===l?void 0:l.reduced)&&void 0!==u?u:this.ttlReduced,this.ttlAll=null!==(f=null===(d=null===(c=this.config)||void 0===c?void 0:c.cookieTTL)||void 0===d?void 0:d.all)&&void 0!==f?f:this.ttlAll,this.config.cookieDomain&&r.cookie.useDomain(this.config.cookieDomain);var w=r.cookie.get(this.cookieNameAllowed);Array.isArray(w)&&w.length&&(this.allowed=w),null===(g=null===(v=null===(h=null===(p=this.config)||void 0===p?void 0:p.elements)||void 0===h?void 0:h.essential)||void 0===v?void 0:v.names)||void 0===g||g.split(",").forEach((function(e){""!==(e=(e+"").trim())&&-1===y.allowed.indexOf(e)&&y.allowed.push(e)})),Object.keys(this.config.elements).forEach((function(e){Object.keys(y.config.elements[e].items).forEach((function(t){var o,i,l,n,a=null!==(n=null===(l=null===(i=null===(o=y.config)||void 0===o?void 0:o.elements[e])||void 0===i?void 0:i.items[t])||void 0===l?void 0:l.service)&&void 0!==n?n:"";a&&y.services.push(a)}))})),this.trigger("supiInitStart",this.body,{}),this.logger.info("Collected services %o",this.services);var A=r.cookie.get(this.cookieNameStatus);A==n.Status.All?(this.allowAll=!0,this.injectJavaScripts(),this.updateCookieTTL(),this.removeNotAllowedCookies()):A==n.Status.Selected?(this.injectJavaScripts(),this.updateCookieTTL(),this.removeNotAllowedCookies()):r.cookie.get(this.cookieNameStatus)||(r.cookie.remove(this.cookieNameStatus),(0,a.findOne)('[data-hide-overlay="1"]')?this.logger.info('Hides the Banner-Overlay due to the given Setting "hideOverlayOnButtonCe"',"",""):this.toggleBanner()),this.logger.info("Checking for yt cookie"),this.allowYoutube="y"===r.cookie.get(this.cookieNameYoutube)||this.allowAll||A==n.Status.Selected&&(null===(m=this.config)||void 0===m?void 0:m.essentialIncludesYoutube),this.logger.info('Youtube cookie is "%o" resulting in %o',r.cookie.get(this.cookieNameYoutube),this.allowYoutube),this.enableYoutubeVideos(),this.allowMaps="y"===r.cookie.get(this.cookieNameGoogleMaps)||this.allowAll||A==n.Status.Selected&&(null===(b=this.config)||void 0===b?void 0:b.essentialIncludesMaps),this.logger.info('Maps cookie is "%o" resulting in %o',r.cookie.get(this.cookieNameGoogleMaps),this.allowMaps),this.enableMaps(),this.addClickHandler(),this.setDetailDefaults(),this.toggleAllServices(),setTimeout((function(){y.trigger("supiInitEnd",y.body,{})}),180)}}return e.prototype.toggleAllServices=function(){var e=this;this.services.forEach((function(t){return e.toggleService(t)}))},e.prototype.updateCookieTTL=function(){r.cookie.setLifetime(this.allowAll?this.ttlAll:this.ttlReduced)},e.prototype.addClickHandler=function(){var e=this;(0,a.findAll)("[data-toggle=allow]",this.root).forEach((function(t){e.logger.info("Allow all on click on %o",t),null==t||t.addEventListener("click",(function(t){e.logger.info("Allow all was clicked, processing"),e.allowAll=!0,e.allowMaps=!0,e.allowYoutube=!0,e.collectAllowed(n.Mode.All),e.removeScripts(),!0===e.injectJavaScripts()&&(e.toggleBanner(),r.cookie.set(e.cookieNameStatus,n.Status.All),r.cookie.set(e.cookieNameYoutube,"y"),r.cookie.set(e.cookieNameGoogleMaps,"y")),e.setDetailDefaults(),e.enableMaps(),e.enableYoutubeVideos(),e.removeNotAllowedCookies(),e.toggleAllServices(),t.preventDefault()}))})),this.dismiss&&this.dismiss.addEventListener("click",(function(t){var o,i;t.preventDefault(),e.allowAll=!1,e.collectAllowed(n.Mode.Essential)&&e.removeScripts(),(null===(o=e.config)||void 0===o?void 0:o.essentialIncludesYoutube)&&(e.allowYoutube=!0,r.cookie.set(e.cookieNameYoutube,"y"),e.enableYoutubeVideos()),(null===(i=e.config)||void 0===i?void 0:i.essentialIncludesMaps)&&(e.allowMaps=!0,r.cookie.set(e.cookieNameGoogleMaps,"y"),e.enableMaps()),!0===e.removeScripts()&&(e.toggleBanner(),r.cookie.set(e.cookieNameStatus,n.Status.Selected)),e.toggleAllServices(),e.setDetailDefaults(),e.removeNotAllowedCookies()})),this.save&&this.save.addEventListener("click",(function(t){t.preventDefault(),e.allowAll=!1,e.collectAllowed(n.Mode.Selected),e.removeScripts(),e.injectJavaScripts()&&(e.toggleBanner(),r.cookie.set(e.cookieNameStatus,n.Status.Selected)),e.toggleAllServices(),e.removeNotAllowedCookies()})),this.choose&&(this.logger.info("Add main choose toggle to %o",this.choose),this.choose.addEventListener("click",(function(t){t.preventDefault(),e.toggleBanner()}))),(0,a.findAll)("a, button").filter((function(e){return"#supi-choose"==(null==e?void 0:e.getAttribute("href"))})).forEach((function(t){e.logger.info("Add choose toggle to %o",t),null==t||t.addEventListener("click",(function(t){t.preventDefault(),e.toggleBanner()}))})),(0,a.findAll)("[data-toggle=switch]").filter((function(e){var t,o;return(0,a.findOne)(null!==(t=null==e?void 0:e.dataset.switchFrom)&&void 0!==t?t:"")&&(0,a.findOne)(null!==(o=null==e?void 0:e.dataset.switchTo)&&void 0!==o?o:"")})).forEach((function(t){null==t||t.addEventListener("click",(function(o){var i,l,n,r,s,u,c,d;null===(l=(0,a.findOne)(null!==(i=null==t?void 0:t.dataset.switchFrom)&&void 0!==i?i:""))||void 0===l||l.classList.add("tx-supi__pane-hidden"),null===(r=(0,a.findOne)(null!==(n=null==t?void 0:t.dataset.switchFrom)&&void 0!==n?n:""))||void 0===r||r.setAttribute("hidden",""),null===(u=(0,a.findOne)(null!==(s=null==t?void 0:t.dataset.switchTo)&&void 0!==s?s:""))||void 0===u||u.classList.remove("tx-supi__pane-hidden"),null===(d=(0,a.findOne)(null!==(c=null==t?void 0:t.dataset.switchTo)&&void 0!==c?c:""))||void 0===d||d.removeAttribute("hidden"),"disable"===t.dataset.inputs&&e.allowed.length<1&&(0,a.findAll)("input[type=checkbox]").forEach((function(e){var t=e;t.checked=t.disabled||!!t.dataset.required})),e.focusTrapElements=e.getFocusTrapElements(),o.preventDefault()}))})),(0,a.findAll)("[data-toggle=visibility]").filter((function(e){var t;return!!(0,a.findOne)(null!==(t=null==e?void 0:e.dataset.target)&&void 0!==t?t:"")})).forEach((function(t){null==t||t.addEventListener("click",(function(o){var i;null==t||t.classList.toggle("tx-supi__pane-active"),"false"===t.getAttribute("aria-expanded")?(null==t||t.setAttribute("aria-expanded","true"),e.focusTrapElements=e.getFocusTrapElements()):null==t||t.setAttribute("aria-expanded","false");var l=(0,a.findOne)(null!==(i=null==t?void 0:t.dataset.target)&&void 0!==i?i:"");null==l||l.classList.toggle("tx-supi__pane-hidden"),(null==l?void 0:l.classList.contains("tx-supi__pane-hidden"))||(e.focusTrapElements=e.getFocusTrapElements()),null==l||l.toggleAttribute("hidden"),o.preventDefault()}))})),(0,a.findAll)("input[data-supi-block]").filter((function(e){return!e.disabled})).forEach((function(e){null==e||e.addEventListener("click",(function(t){if(null==e?void 0:e.dataset.supiParent)(0,a.findAll)("[data-supi-block="+e.dataset.supiBlock+"]").forEach((function(t){(null==t?void 0:t.dataset.supiParent)||(t.checked=e.checked)}));else{var o=(0,a.findOne)("[data-supi-parent="+e.dataset.supiBlock+"]"),i=(0,a.findAll)("[data-supi-block="+e.dataset.supiBlock+"]").filter((function(e){return!!(null==e?void 0:e.dataset.supiItem)}));o&&i.length&&(o.checked=i.reduce((function(e,t){return e&&t.checked}),!0))}t.stopPropagation()}))})),(0,a.findAll)(".tx-supi__youtube").forEach((function(t){var o,i;e.logger.info("Add listener to child of %o",t),null===(o=null==t?void 0:t.querySelector("[data-toggle=youtube]"))||void 0===o||o.addEventListener("click",(function(){e.logger.info("Enabling all youtube elements"),r.cookie.set(e.cookieNameYoutube,"y"),e.toggleYoutubeVideos(t)})),null===(i=null==t?void 0:t.querySelector("[data-toggle=youtube-once]"))||void 0===i||i.addEventListener("click",(function(){e.logger.info("Enabling one youtube element: %o",t),e.toggleYoutubeVideos(t,!0)}))})),(0,a.findAll)(".tx_supi__map").forEach((function(t){var o=null==t?void 0:t.querySelector("[data-toggle=map]");e.logger.info("Add listener to toggle %o for map %o",o,t),null==o||o.addEventListener("click",(function(){e.allowMaps=!0,r.cookie.set(e.cookieNameGoogleMaps,"y"),e.enableMaps()}))})),(0,a.findAll)(".tx-supi__simpleMaps").forEach((function(t){var o,i;e.logger.info("Add listener to for simpleMap %o",t),null===(o=null==t?void 0:t.querySelector("[data-toggle=simpleMaps]"))||void 0===o||o.addEventListener("click",(function(){e.logger.info("Enabling all simple google maps elements"),r.cookie.set(e.cookieNameGoogleMaps,"y"),e.toggleSimpleMaps(t)})),null===(i=null==t?void 0:t.querySelector("[data-toggle=simpleMaps-once]"))||void 0===i||i.addEventListener("click",(function(){e.logger.info("Enabling onr simple google maps elements"),e.toggleSimpleMaps(t,!0)}))})),(0,a.findAll)("[data-supi-service-container]").forEach((function(t){var o,i=(null==t?void 0:t.dataset.supiServiceContainer)||"";i&&(null===(o=null==t?void 0:t.querySelector("[data-toggle=supiServiceContainer]"))||void 0===o||o.addEventListener("click",(function(){e.logger.info("Enabling service "+i),r.cookie.set(i,"y"),e.toggleService(i)})))})),(0,a.findAll)("[data-toggle=supiDetails]").forEach((function(t){null==t||t.addEventListener("click",(function(o){var i,l,n,r=(0,a.findOne)(null!==(i=null==t?void 0:t.dataset.target)&&void 0!==i?i:"");if(r){var s=null!==(l=null==t?void 0:t.getAttribute("aria-expanded"))&&void 0!==l?l:"";e.logger.info("aria-expanded before: "+s),e.logger.info("hidden before: "+(null==r?void 0:r.hasAttribute("hidden"))),"false"===s?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-expanded","false"),r.hasAttribute("hidden")?r.removeAttribute("hidden"):r.setAttribute("hidden",""),e.logger.info(null!==(n="aria-expanded after: "+(null==t?void 0:t.getAttribute("aria-expanded")))&&void 0!==n?n:""),e.logger.info("hidden after: "+r.hasAttribute("hidden"))}o.preventDefault()}))}))},e.prototype.injectJavaScripts=function(){var e=this;return(0,a.findAll)("script").filter((function(e){return"application/supi"==e.type})).filter((function(t){var o=e.allowAll||!!t.dataset.supiRequired;return!o&&t.dataset.supiCookies&&(o=t.dataset.supiCookies.split(",").reduce((function(t,o){return t||e.allowed.indexOf(o)>-1}),!1)),o})).forEach((function(t){var o,i=document.createElement("script");i.className="supi-scripts",i.dataset.supiCookies=t.dataset.supiCookies,i.innerHTML=t.innerHTML,null===(o=t.parentNode)||void 0===o||o.replaceChild(i,t),e.trigger("injectScript",i,null)})),!0},e.prototype.toggleBanner=function(){var e,t,o,i,l=this;1==this.overlay&&(null===(e=this.body)||void 0===e||e.classList.toggle("tx-supi__overlay"),null===(t=this.html)||void 0===t||t.classList.toggle("tx-supi__overlay")),null===(o=this.banner)||void 0===o||o.classList.toggle("hide"),(null===(i=this.banner)||void 0===i?void 0:i.classList.contains("hide"))?(this.trigger("bannerHide",this.banner,null),this.disableFocusTrap()):(this.trigger("bannerShow",this.banner,null),requestAnimationFrame((function(){var e;null===(e=l.modal)||void 0===e||e.focus()})),this.enableFocusTrap());var n=!0,s=(0,a.findOne)("[data-supi-service=googleMaps]",this.root);s&&(n=this.allowMaps&&n,s.checked=this.allowMaps);var u=(0,a.findOne)("[data-supi-service=youtube]",this.root);u&&(n=this.allowYoutube&&n,u.checked=this.allowYoutube),(0,a.findAll)("[data-supi-service]",this.root).forEach((function(e){var t;if(!(null==e?void 0:e.dataset.supiParent)&&"youtube"!=(null==e?void 0:e.dataset.supiService)&&"googleMaps"!=(null==e?void 0:e.dataset.supiService)){var o=l.allowAll||"y"==r.cookie.get(null!==(t=null==e?void 0:e.dataset.supiService)&&void 0!==t?t:"");e.checked=o,n=o&&n}}));var c=(0,a.findOne)("[data-supi-parent=media]",this.root);c&&(c.checked=n)},e.prototype.removeScripts=function(){return(0,a.findAll)(".supi-scripts").forEach((function(e){var t,o=document.createElement("script");o.type="application/supi",o.dataset.supiCookies=e.dataset.supiCookies,o.innerHTML=e.innerHTML,null===(t=e.parentNode)||void 0===t||t.replaceChild(o,e)})),!0},e.prototype.collectAllowed=function(e){var t=this;void 0===e&&(e=n.Mode.Essential);var o=this.allowed.sort().join();switch(this.allowed=[],e){case n.Mode.All:this.trigger("allowAll",document.body,null),Object.keys(this.config.elements).forEach((function(e){var o,i;null===(i=null===(o=t.config.elements[e])||void 0===o?void 0:o.names)||void 0===i||i.split(",").forEach((function(e){""!==(e=(e+"").trim())&&-1===t.allowed.indexOf(e)&&t.allowed.push(e)}))}));break;case n.Mode.Essential:this.trigger("allowEssential",document.body,null),r.cookie.set(this.cookieNameGoogleMaps,"n"),this.allowMaps=!1,r.cookie.set(this.cookieNameYoutube,"n"),this.allowYoutube=!1,this.services.forEach((function(e){return r.cookie.set(e,"n")})),Object.keys(this.config.elements||{}).filter((function(e){var o,i;return!!(null===(i=null===(o=t.config)||void 0===o?void 0:o.elements[e])||void 0===i?void 0:i.required)})).forEach((function(e){var o,i;null===(i=null===(o=t.config.elements[e])||void 0===o?void 0:o.names)||void 0===i||i.split(",").forEach((function(e){""!==(e=(e+"").trim())&&-1===t.allowed.indexOf(e)&&t.allowed.push(e)}))}));break;case n.Mode.Selected:this.trigger("allowSelected",document.body,null),r.cookie.set(this.cookieNameGoogleMaps,"n"),this.allowMaps=!1,r.cookie.set(this.cookieNameYoutube,"n"),this.allowYoutube=!1,this.services.forEach((function(e){return r.cookie.set(e,"n")})),(0,a.findAll)("input[type=checkbox]",this.root).filter((function(e){var t;return e.checked||(parseInt(null!==(t=null==e?void 0:e.dataset.supiRequired)&&void 0!==t?t:"0")||0)>0})).forEach((function(e){if(null!=e&&e.dataset.supiService)switch(e.dataset.supiService){case"googleMaps":r.cookie.set(t.cookieNameGoogleMaps,"y"),t.allowMaps=!0,t.enableMaps();break;case"youtube":r.cookie.set(t.cookieNameYoutube,"y"),t.allowYoutube=!0,t.enableYoutubeVideos();break;default:r.cookie.set(e.dataset.supiService,"y"),t.toggleAllServices()}else e.value.split(",").map((function(e){return e.trim()})).forEach((function(e){""!==e&&-1===t.allowed.indexOf(e)&&t.allowed.push(e)}))}))}return r.cookie.set(this.cookieNameAllowed,this.allowed),this.allowed.sort().join()===o},e.prototype.enableFocusTrap=function(){this.preFocusTrapActiveElement=void 0,document.activeElement instanceof HTMLElement&&(this.preFocusTrapActiveElement=document.activeElement,document.activeElement.blur()),document.addEventListener("keydown",this.focusTrapEventHandler)},e.prototype.disableFocusTrap=function(){document.removeEventListener("keydown",this.focusTrapEventHandler),this.preFocusTrapActiveElement instanceof HTMLElement&&this.preFocusTrapActiveElement.focus()},e.prototype.focusTrapNavigator=function(e){var t;if("Tab"===e.key){e.preventDefault(),this.focusTrapElements=this.getFocusTrapElements();var o=this.focusTrapElements.indexOf(document.activeElement)+(e.shiftKey?-1:1);o<0?o=this.focusTrapElements.length-1:o>=this.focusTrapElements.length&&(o=0),null===(t=this.focusTrapElements[o])||void 0===t||t.focus()}},e.prototype.getFocusTrapElements=function(){return(0,a.findAll)("a, button, *[tabindex], input[type=checkbox]:not([disabled])",this.banner).filter((function(e){return null!=e&&(e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0)}))},e.prototype.removeNotAllowedCookies=function(){var e=this;this.logger.info("Comparing currently set cookies %o with allowed %o, allow all is %o",r.cookie.getCookieNames(),this.allowed,this.allowAll),r.cookie.getCookieNames().forEach((function(t){e.allowAll||-1!==e.allowed.indexOf(t)||(e.logger.info("Removing cookie "+t),r.cookie.purgeCookie(t),e.trigger("cookieDeleted",document.body,{name:t}))})),r.cookie.set(this.cookieNameAllowed,this.allowed)},e.prototype.setDetailDefaults=function(){var e=this;(0,a.findAll)("input[data-supi-parent]").forEach((function(t){var o=t,i=(0,a.findAll)("input[data-supi-block="+o.dataset.supiParent+"][data-supi-item]");i.length?(o.checked=!0,i.forEach((function(t){var o=t;o.checked=o.disabled||e.allowAll||o.value.split(",").reduce((function(t,o){return t&&e.allowed.indexOf(o)>-1}),!0)})),i.forEach((function(e){e.checked||(o.checked=!1)})),e.logger.info("Set parent %o to %o",o,o.checked)):(e.logger.info("Check if all of parent values %s",o.value,e.allowed),o.checked=o.disabled||e.allowAll||o.value.split(",").reduce((function(t,o){return e.logger.info("Checking value %s with prev of %o",o,t),t&&(o=o.replace(/\s+/g,""),e.logger.info("Prev still true, checking if value %s is in %o",o,e.allowed),""!==o&&-1===e.allowed.indexOf(o)&&(e.logger.info("Value %s is not in %o, setting to false",o,e.allowed),t=!1)),t}),!0))}))},e.prototype.enableYoutubeVideos=function(){var e=this;this.allowYoutube&&(this.trigger("youTubeAllowedGlobal",document.documentElement,{}),this.logger.info("Enabling all videos, non autostart"),(0,a.findAll)(".tx-supi__youtube").forEach((function(t){e.logger.info("Enabling %o",t),e.addVideo(t,"")})))},e.prototype.toggleYoutubeVideos=function(e,t){void 0===t&&(t=!1),this.logger.info("Enabling youtube"),this.allowYoutube=!0,this.logger.info("Start video for %o",e),this.addVideo(e,"&autoplay=1&mute=1"),t?this.allowYoutube=!1:(r.cookie.set(this.cookieNameYoutube,"y"),this.logger.info("Enabling other videos"),this.enableYoutubeVideos())},e.prototype.addVideo=function(e,t){var o,i;if(this.allowYoutube){var l=null===(o=e.querySelector(".tx-supi__youtube-preview-image"))||void 0===o?void 0:o.getBoundingClientRect(),n="https://www.youtube-nocookie.com/embed/"+e.dataset.youtubeId+"?rel=0&modestbranding=1"+t,a=document.createElement("iframe");a.src=n,a.frameBorder="0",a.style.border="0",a.width=(null==l?void 0:l.width)+"",a.height=(null==l?void 0:l.height)+"",a.setAttribute("autoplay","true"),a.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),null===(i=e.parentNode)||void 0===i||i.replaceChild(a,e),this.trigger("youTubeAllowed",a,{iframe:a,datset:e.dataset})}else this.logger.info("Youtube not enabled")},e.prototype.enableMaps=function(){var e=this;this.allowMaps&&((0,a.findAll)(".tx_supi__map").forEach((function(t){var o=t,i=null==o?void 0:o.querySelector("[data-toggle=map]");if(null!=i){var l=i.dataset.callback;o.classList.add("active"),window[l](),e.trigger("customMapAllowed",o,{wrapper:o,callback:l})}})),this.enableSimpleMaps())},e.prototype.enableSimpleMaps=function(){var e=this;this.logger.info("Enabling all simple maps implementations"),(0,a.findAll)(".tx-supi__simpleMaps").forEach((function(t){var o=t;e.logger.info("Enabling %o",o),e.addSimpleMap(o)}))},e.prototype.toggleSimpleMaps=function(e,t){void 0===t&&(t=!1),this.logger.info("Enabling Simple Maps"),this.allowMaps=!0,this.addSimpleMap(e),t?this.allowMaps=!1:(r.cookie.set(this.cookieNameGoogleMaps,"y"),this.logger.info("Enabling all maps"),this.enableSimpleMaps())},e.prototype.addSimpleMap=function(e){var t,o,i;if(this.allowMaps){var l="https://maps.google.com/maps?q="+e.dataset.mapAddress+"&t=&z="+((null===(t=e.dataset)||void 0===t?void 0:t.mapZoom)?null===(o=e.dataset)||void 0===o?void 0:o.mapZoom:15)+"&ie=UTF8&iwloc=&output=embed",n=document.createElement("iframe");n.src=l,n.frameBorder="0",n.style.border="0",n.width="800",n.height="600",null===(i=e.parentNode)||void 0===i||i.replaceChild(n,e),this.trigger("simpleMapAllowed",n,{iframe:n,data:e.dataset})}else this.logger.info("Google Maps not enabled")},e.prototype.toggleService=function(e){var t=this;("y"==r.cookie.get(e)||this.allowAll)&&(this.logger.info("Enabling service %o",e),(0,a.findAll)("[data-supi-service-container="+e+"]").forEach((function(o){var n,a,r,s=o,u=s.parentNode,c=s.dataset.supiServiceAttr;if("callback"===s.dataset.supiServiceType)return t.logger.info("Executing service %s callback %s",e,s.dataset.supiServiceCallback),void setTimeout((function(){try{var o=s.dataset.supiServiceCallback;window[o](s),t.trigger("serviceCallback",u,{newEl:r,service:e})}catch(o){t.logger.info("Cannot call service callback %s: %s",s.dataset.supiServiceCallback,o),t.trigger("serviceCallbackError",u,{newEl:r,service:e,func:s.dataset.supiServiceCallback,error:o})}}),10);switch(t.logger.info("Enable element %o of service %o",s,e),s.dataset.supiServiceType){case"script":(r=document.createElement("script")).async=!0,r.defer=!0;break;case"img":(r=document.createElement("img")).alt="",r.border="0";break;default:(r=document.createElement("iframe")).frameBorder="0",r.referrerPolicy="no-referrer",r.style.border="0"}if(c)try{try{for(var d=i(Object.entries(JSON.parse(c))),f=d.next();!f.done;f=d.next()){var p=l(f.value,2),h=p[0],v=p[1];r.setAttribute(h,v+""),t.logger.info("Setting property %s to %s",h,v)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}}catch(o){t.logger.error(o)}t.logger.info("Replacing %o with %o",s,r),null==u||u.replaceChild(r,s),t.trigger("serviceEmbeded",u,{newEl:r,service:e})})))},e.prototype.trigger=function(e,t,o){this.logger.info("Trigger event %s on element %o",e,t);var i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:this.addDetailsForEvents(o)});t.dispatchEvent(i)},e.prototype.addDetailsForEvents=function(e){var t=this;return e||(e={}),(0,a.findAll)("[data-supi-service-container]").forEach((function(o){var i=(null==o?void 0:o.dataset.supiServiceContainer)||null,l=r.cookie.get(i||"")||null;i&&l&&(e[i]=t.allowAll?"y":l),e.allowAll=t.allowAll,e.allowMaps=t.allowMaps,e.allowYoutube=t.allowYoutube})),e},e}();t.Supi=u},905:function(e,t){var o,i,l;t.__esModule=!0,t.Mode=t.Status=t.Position=void 0,(l=t.Position||(t.Position={}))[l.CenterCenter=0]="CenterCenter",l[l.BottomLeft=1]="BottomLeft",(i=t.Status||(t.Status={}))[i.None=0]="None",i[i.All=1]="All",i[i.Selected=2]="Selected",(o=t.Mode||(t.Mode={}))[o.All=0]="All",o[o.Essential=1]="Essential",o[o.Selected=2]="Selected"}},i={};e=function e(t){var l=i[t];if(void 0!==l)return l.exports;var n=i[t]={exports:{}};return o[t].call(n.exports,n,n.exports,e),n.exports}(429),t=function(){window.supi=new e.Supi,window.removeEventListener("load",t)},window.addEventListener("load",t)}();
//# sourceMappingURL=main.js.map